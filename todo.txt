SALJA Evolution Map — Audit-Driven Improvements
Philosophy: File-based calendar conversion CLI for power users and developers. Data fidelity configurable. Interactive-first.
================================================================================

--- PHILOSOPHICAL ALIGNMENT ---





--- DX / UTILITY ---







--- STABILITY / SCALING ---

(B) Refactor internal/parsers/todoist.go to log skipped rows with non-task TYPE values to the ErrorCollector instead of silently continuing +refactor +errors
(B) Refactor internal/parsers/ticktick.go to log skipped rows to the ErrorCollector instead of silently continuing +refactor +errors
(B) Refactor all CSV parsers to report malformed date values as ParseError via ErrorCollector instead of silently using zero-value time.Time +refactor +errors

(B) Replace the unused ParseError type in internal/errors/errors.go with actual usage in all parsers — each parser should wrap format-specific parse failures in ParseError with the relevant field and line number context +refactor +errors
(B) Replace the unused ValidationError type in internal/errors/errors.go with actual usage in config validation, model Validate, and writer output validation +refactor +errors
(B) Use ConflictError from internal/errors in internal/conflict/resolver.go when conflict resolution fails instead of returning plain error strings +refactor +errors
(B) Use PermissionError from internal/errors in internal/apple/ when AppleScript permission checks fail instead of returning plain error strings +refactor +errors
(B) Use APIError from internal/errors in internal/api/gcal.go and internal/api/msgraph.go for all HTTP error responses so callers can use IsRateLimit for retry logic +refactor +errors
(B) Add a PartialResult return type to the convert command pipeline so that when some items fail parsing but others succeed, the CLI can report N succeeded / M failed with per-item error details +refactor +errors
(B) Add input validation in the convert command to reject output formats that cannot represent the source item types (e.g. converting tasks to gcal which only supports events) with a clear error message before processing begins +feature +fidelity
(B) Add conflict detection integration into the convert command with a --merge flag that runs Detector.FindDuplicates when the output file already exists and invokes the Resolver before overwriting +feature +conflict
(B) Encrypt OAuth tokens at rest in internal/api/oauth.go using OS keyring (keyctl on Linux, Keychain on macOS, Credential Manager on Windows) instead of plaintext JSON +security
(B) Add a file size pre-check in the convert command that warns when the input file exceeds StreamingThresholdMB and confirms the user wants to proceed in non-streaming mode if streaming is not yet triggered +feature +performance
(B) Add context.Context propagation through all parser and writer interfaces so that long-running conversions can be cancelled via Ctrl+C through the existing SignalHandler +refactor +stability
(B) Add timeout configuration for API calls in internal/api so that GCalClient and MSGraphClient respect a configurable timeout from Config instead of hardcoded 30 seconds +feature +api
(B) Add rate limiting awareness to sync push commands so that batch event creation respects Google Calendar API quota (calendar.events.insert: 10 QPS) and Microsoft Graph limits +feature +api
(B) Add integration tests for the convert command that verify round-trip conversion ICS→CSV→ICS preserves all fields that both formats support +infra +testing
(B) Add integration tests for the convert command that verify round-trip conversion between every pair of registered formats and assert that DataLossWarnings match expected field losses +infra +testing
(B) Add benchmark tests for CSV and ICS parsers with 10000-item files to establish baseline performance and detect regressions +infra +testing
